<!doctype html>
<!-- Main entry point for React application -->
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/AVECapstone/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>av-ethics-site</title>
    <script type="module" crossorigin src="/AVECapstone/assets/index-e738d8a2.js"></script>
    <link rel="stylesheet" href="/AVECapstone/assets/index-5b7a470b.css">
    <script>
      // Only redirect on actual 404s for critical resources, prevent multiple redirects
      let hasRedirected = false;
      
      function handleCriticalError() {
        if (hasRedirected) return; // Prevent multiple redirects
        hasRedirected = true;
        console.error('Critical resource failed to load, redirecting to homepage...');
        window.location.href = '/AVECapstone/';
      }

      // Only catch actual resource load failures (404s) for script and CSS
      window.addEventListener('error', function(event) {
        // Only handle resource loading errors for critical assets
        if (event.target && (event.target.tagName === 'SCRIPT' || event.target.tagName === 'LINK')) {
          const src = event.target.src || event.target.href || '';
          // Only redirect if it's a 404 for our critical assets
          if (src.includes('/AVECapstone/assets/') && event.target.tagName === 'SCRIPT') {
            handleCriticalError();
            return true;
          }
        }
      }, true);
    </script>
  </head>
  <body>
    <div id="root"></div>
  </body>
</html>
